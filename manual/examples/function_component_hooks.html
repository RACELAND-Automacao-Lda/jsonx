<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JSONX TEST</title>
    <script type="text/javascript" src="../../dist/jsonx.web.js"></script>
    <script type="text/javascript">
    window.React = jsonx.__getReact();
    window.ReactDOM = jsonx.__getReactDOM();
    // shallowEqual=()=>{};
    // console.log({jsonx});
    // console.log({React});
    </script>
    <!-- <script type="text/javascript" src="https://unpkg.com/react-md@1.9.2/dist/react-md.js"></script> -->
    <!-- <link rel="stylesheet" href="../node_modules/react-md/dist/react-md.amber-blue.min.css"> -->
    <link rel="stylesheet" href="../../node_modules/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="../../node_modules/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="../../node_modules/spectre.css/dist/spectre-icons.min.css">
    <!-- <script type="text/javascript" src="../node_modules/react-md/dist/react-md.js"></script> -->
    <!-- <script type="text/javascript" src="../node_modules/semantic-ui-react/dist/umd/semantic-ui-react.min.js"></script> -->
    <script type="text/javascript" src="../../design/spectre.umd.js"></script>
    <!-- <script type="text/javascript" src="../design/semantic.web.js"></script> -->
  </head>
  <body>
    <div id="root"></div>
    <script type="text/javascript">
      const MyCustomFunctionComponent = jsonx._jsonxComponents.getReactFunctionComponent.call({
        debug:true, 

        componentLibraries:{
          Spectre,
        }
      },{
        component:'div',
        props:{
          extra:'ok',
          key:10,
        },
        passprops:true,
        children:[
          {
            component:'Spectre.Typography.H1',
            props:{
              key:11,
            },
            children: 'This is from Function Component'
          },
          {
              component:'p',
              passprops:true,
              props:{
                key:12,
              },
              children:[
                {
                  component:'span',
                  children:'You clicked ',
                },
                {
                  component:'input',
                  thisprops:{
                    value:['count'],
                  },
                },
                {
                  component:'span',
                  children:' times'
                }
              ]
          },
          {
            component:'Spectre.Button.Button',
            debug:true,
            props:{
                key:13,
              },
            __dangerouslyBindEvalProps:{
              onClick:function(count,setCount){
                console.log('specte button this',this);
                console.log('this is inline',{count,setCount},'arguments',arguments);
                setCount(count+1);
              },
            },
            children:'Click me'
          }
        ],
      },`
      // console.log('function component this',this,{self})
      const [count, setCount] = useState(0);
      const exposeProps = {count,setCount};
      `,{
        name:'IntroHook',
        bind:true,
      });

      const sampleJSONX = {
        component: 'Spectre.Grid.Grid',
        props: {
          id: 'generatedJSONX',
          className:'jsonx',
          otherprop: 'testing Other Prop',
          style:{
            padding:'1rem',
          },
          key:1,
        },
        children: [
          {
            component:'MyCustomFunctionComponent',
            props:{
              key:2,
              status:'Amazing',
            },
            resourceprops:{
              punc:['punc']
            }
          },
          
        ],
      };
      const boundConfig = {
        debug:true, 
        reactComponents:{
          MyCustomFunctionComponent,
        },
        componentLibraries:{
          // ReactMD,
          Spectre,
        },
        // disableRenderIndexKey:false,
      };
      // console.log({boundConfig})
      jsonx.jsonxRender.call(boundConfig,{ 
        jsonx: sampleJSONX, 
        resources: { 
          punc:{some:'random'}
        },
        querySelector:'#root', });
    </script>
  </body>
</html>