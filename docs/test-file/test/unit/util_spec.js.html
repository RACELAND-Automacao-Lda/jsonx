<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">test/unit/util_spec.js | JSONX</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="//www.googletagmanager.com/gtag/js?id=UA-112697260-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-112697260-2');
  </script><meta name="description" content="React JSON Syntax - Construct React elements, JSX and HTML with JSON without transpilers. JSONX supports React Function and Class Components, React Lazy and Suspense Components, and full support for React Hooks."><meta property="og:type" content="website"><meta property="og:url" content="https://repetere.github.io/jsonx"><meta property="og:site_name" content="JSONX"><meta property="og:title" content="JSONX"><meta property="og:image" content="https://jsonx.io/favicon.png"><meta property="og:description" content="React JSON Syntax - Construct React elements, JSX and HTML with JSON without transpilers. JSONX supports React Function and Class Components, React Lazy and Suspense Components, and full support for React Hooks."><meta property="og:author" content="https://github.com/repetere"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="JSONX"><meta property="twitter:description" content="React JSON Syntax - Construct React elements, JSX and HTML with JSON without transpilers. JSONX supports React Function and Class Components, React Lazy and Suspense Components, and full support for React Hooks."><meta property="twitter:image" content="https://jsonx.io/favicon.png"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/repetere/jsonx"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChildrenProperty">getChildrenProperty</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChildrenProps">getChildrenProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getJSONXChildren">getJSONXChildren</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getBoundedComponents">getBoundedComponents</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getComponentFromLibrary">getComponentFromLibrary</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getComponentFromMap">getComponentFromMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFunctionFromEval">getFunctionFromEval</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getReactClassComponent">getReactClassComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getReactContext">getReactContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getReactFunctionComponent">getReactFunctionComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-__express">__express</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-__getReact">__getReact</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-__getReactDOM">__getReactDOM</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-__getUseGlobalHook">__getUseGlobalHook</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-compile">compile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getReactElementFromJSON">getReactElementFromJSON</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getReactElementFromJSONX">getReactElementFromJSONX</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-jsonToJSX">jsonToJSX</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-jsonxRender">jsonxRender</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-outputHTML">outputHTML</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-outputJSON">outputJSON</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-outputJSX">outputJSX</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-boundArgsReducer">boundArgsReducer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getChildrenComponents">getChildrenComponents</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getComponentProps">getComponentProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getComputedProps">getComputedProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getEvalProps">getEvalProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFunctionFromProps">getFunctionFromProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFunctionProps">getFunctionProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getJSONXProps">getJSONXProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getParamNames">getParamNames</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getReactComponentProps">getReactComponentProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getWindowComponents">getWindowComponents</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-displayComponent">displayComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAdvancedBinding">getAdvancedBinding</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getSimplifiedJSONX">getSimplifiedJSONX</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-simpleJSONXSyntax">simpleJSONXSyntax</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-traverse">traverse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-validSimpleJSONXSyntax">validSimpleJSONXSyntax</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-validateJSONX">validateJSONX</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-advancedBinding">advancedBinding</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-componentMap">componentMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-_jsonxChildren">_jsonxChildren</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-_jsonxComponents">_jsonxComponents</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-_jsonxProps">_jsonxProps</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-_jsonxUtils">_jsonxUtils</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getReactElement">getReactElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-getRenderedJSON">getRenderedJSON</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-jsonxHTMLString">jsonxHTMLString</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-renderIndex">renderIndex</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ARGUMENT_NAMES">ARGUMENT_NAMES</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STRIP_COMMENTS">STRIP_COMMENTS</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">test/unit/util_spec.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import * as jsonx from &apos;../../src/main&apos;;
import * as _jsonxUtils from &apos;../../src/utils&apos;;

import mochaJSDOM from &apos;jsdom-global&apos;;
import chai from &apos;chai&apos;;
import sinon from &apos;sinon&apos;;
import React from &apos;react&apos;;
import ReactTestUtils from &apos;react-dom/test-utils&apos;; // ES6
import ReactDOM from &apos;react-dom&apos;;
import ReactDOMElements from &apos;react-dom-factories&apos;;
import { expect } from &apos;chai&apos;;
import { JSDOM, } from &apos;jsdom&apos;;
chai.use(require(&apos;sinon-chai&apos;));
import &apos;mocha-sinon&apos;;

const sampleJSONX = {
  component: &apos;div&apos;,
  props: {
    id: &apos;generatedJSONX&apos;,
    className: &apos;jsonx&apos;,
    bigNum: 1430931039,
    smallNum: 0.425,
    falsey: false,
    truthy: true,
  },
  children: &apos;some div&apos;,
};

describe(&apos;jsonx utils&apos;, function () { 
  describe(&apos;displayComponent&apos;, () =&gt; {
    const displayComponent = _jsonxUtils.displayComponent;
    it(&apos;should display by default return true&apos;, () =&gt; {
      expect(displayComponent()).to.be.true;
    });
    it(&apos;should display if left !== null||undefined&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;falsey&apos;, ],
          operation:&apos;exists&apos;,
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: null,
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.false;
    });
    it(&apos;should display if left === null||undefined&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;,],
          operation:&apos;dne&apos;,
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;falsey&apos;, ],
          operation:&apos;undefined&apos;,
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: null,
          operation:&apos;null&apos;,
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.true;
    });
    it(&apos;should display if left == right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;truthy&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;==&apos;,
          right:[&apos;falsey&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:1,
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.true;
    });
    it(&apos;should display if left === right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;seq&apos;,
          right:[&apos;truthy&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;===&apos;,
          right:[&apos;falsey&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;seq&apos;,
          right:1,
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.false;
    });
    it(&apos;should display if left != right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;dneq&apos;,
          right:[&apos;truthy&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;!=&apos;,
          right:[&apos;falsey&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;dneq&apos;,
          right:1,
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.true;
    });
    it(&apos;should display if left !== right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;dnseq&apos;,
          right:[&apos;truthy&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;!==&apos;,
          right:[&apos;falsey&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;dnseq&apos;,
          right:1,
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.true;
    });
    it(&apos;should display if left &gt; right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;bigNum&apos;, ],
          operation:&apos;gt&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;&gt;&apos;,
          right:[&apos;bigNum&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;gt&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.false;
    });
    it(&apos;should display if left &gt;= right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;bigNum&apos;, ],
          operation:&apos;gte&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;&gt;=&apos;,
          right:[&apos;bigNum&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;gte&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.true;
    });
    it(&apos;should display if left &lt; right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;bigNum&apos;, ],
          operation:&apos;&lt;&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;lt&apos;,
          right:[&apos;bigNum&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;lt&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.false;
    });
    it(&apos;should display if left &lt;= right&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;bigNum&apos;, ],
          operation:&apos;lte&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;&lt;=&apos;,
          right:[&apos;bigNum&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;smallNum&apos;, ],
          operation:&apos;lte&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.false;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.true;
    });
    it(&apos;should display if multiple comprisons are true&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;truthy&apos;, ],
        }, {
          left: [&apos;smallNum&apos;, ],
          operation:&apos;==&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;falsey&apos;, ],
        }, {
          left: [&apos;smallNum&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.false;
    });
    it(&apos;should display if one or more using comparisonorprops comprisons are true&apos;, () =&gt; {
      const testJSONX = Object.assign({}, sampleJSONX, {
        comparisonorprops:true,
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;truthy&apos;, ],
        }, {
          left: [&apos;smallNum&apos;, ],
          operation:&apos;==&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX2 = Object.assign({}, sampleJSONX, {
        comparisonorprops:true,
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;falsey&apos;, ],
        }, {
          left: [&apos;smallNum&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      const testJSONX3 = Object.assign({}, sampleJSONX, {
        comparisonorprops:true,
        comparisonprops: [{
          left: [&apos;truthy&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;falsey&apos;, ],
        }, {
          left: [&apos;bigNum&apos;, ],
          operation:&apos;eq&apos;,
          right:[&apos;smallNum&apos;, ],
        },],
      });
      expect(displayComponent({ jsonx: testJSONX, props: testJSONX.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX2, props: testJSONX2.props, })).to.be.true;
      expect(displayComponent({ jsonx: testJSONX3, props: testJSONX3.props, })).to.be.false;
    });
  });
  describe(&apos;getAdvancedBinding&apos;, () =&gt; {
    const getAdvancedBinding = _jsonxUtils.getAdvancedBinding;
    it(&apos;should return true if browser supports deep nesting&apos;, function () {
      const window = {
        navigator: {
          userAgent: &apos;Webkit&apos;,
        },
      };
      expect(getAdvancedBinding.call({ window, })).to.be.true;
    });    
    it(&apos;should return false on all versions of IE/Trident&apos;, function () {
      const window = {
        navigator: {
          userAgent: &apos;Trident&apos;,
        },
      };
      expect(getAdvancedBinding.call({ window, })).to.be.false;
    });    
    it(&apos;should return false on old Android Browser&apos;, function () {
      const window = {
        navigator: {
          userAgent: &apos;Mozilla/5.0 (Linux; U; Android 1.5; de-de; HTC Magic Build/CRB17) AppleWebKit/528.5  (KHTML, like Gecko) Version/3.1.2 Mobile Safari/525.20.1&apos;,
        },
      };
      expect(getAdvancedBinding.call({ window, })).to.be.false;
    });    
    it(&apos;should return false on old Chrome Browser&apos;, function () {
      const window = {
        navigator: {
          userAgent: &apos;Mozilla/5.0 (Linux; Android 4.1.2; GT-I9300 Build/JZO54K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.59 Mobile Safari/537.36&apos;,
        },
      };
      expect(getAdvancedBinding.call({ window, })).to.be.false;
    });    
    it(&apos;should return false unknown browser&apos;, function () {
      expect(getAdvancedBinding.call({ })).to.be.false;
    });    
  });
  describe(&apos;traverse&apos;, () =&gt; {
    const testObj = {
      user: {
        name: &apos;jsonx&apos;,
        description: &apos;react withouth javascript&apos;,
      },
      stats: {
        logins: 102,
        comments: 3,
      },
      authentication: &apos;OAuth2&apos;,
    };
    const traverse = _jsonxUtils.traverse;
    it(&apos;should return properties from an object from the array of paths&apos;, () =&gt; {
      const testVals = { auth: [&apos;authentication&apos;, ], username: [&apos;user&apos;, &apos;name&apos;, ], };
      expect( traverse(testVals, testObj)).to.eql({ auth:testObj.authentication, username:testObj.user.name,  });
    });
    it(&apos;should return the entire object if no paths provided&apos;, () =&gt; {
      const testVals = { wholeObj: [], };
      expect( traverse(testVals, testObj)).to.eql({ wholeObj:testObj,  });
    });
    it(&apos;should return undefined if paths are invalid&apos;, () =&gt; {
      const testVals = { emptyObj: [&apos;invalid&apos;, &apos;path&apos;,], };
      expect( traverse(testVals, testObj)).to.eql({ emptyObj:undefined, });
    });
    it(&apos;should throw an error if paths are not an array of strings or numeric indexes&apos;, () =&gt; {
      const testVals = { emptyObj: ()=&gt;undefined, };
      expect(traverse.bind(null, testVals, testObj)).to.throw(Error);
    });
  });
  describe(&apos;validateJSONX&apos;, () =&gt; {
    const validateJSONX = _jsonxUtils.validateJSONX;
    it(&apos;should return true if JSONX is valid&apos;,  ()=&gt; {
      expect(validateJSONX(sampleJSONX)).to.be.true;
    });
    it(&apos;should return string and warn of invalid JSONX props&apos;, () =&gt; {
      const invalidKeys = { incorrect: true, extra: true, };
      const invalidKeyJSONX = Object.assign({}, sampleJSONX, invalidKeys);
      const validationTest = validateJSONX(invalidKeyJSONX);
      expect(validationTest).to.be.a(&apos;string&apos;).and.to.be.ok;
      expect(validationTest).to.eql(`Warning: Invalid Keys [${Object.keys(invalidKeys).join()}]`);
    });
    it(&apos;should throw a syntax error if JSONX is missing a component&apos;, () =&gt; {
      const validationTest = validateJSONX.bind({});
      expect(validationTest).to.throw(&apos;Missing React Component&apos;);
      expect(validationTest).to.throw(SyntaxError);
    });
    it(&apos;should throw multiple errors if returnAllErrors is true&apos;, () =&gt; {
      const validationTest = validateJSONX( {
        props: [],
      }, true);
      expect(validationTest).to.be.an(&apos;array&apos;);
      expect(validationTest[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should throw a type error if JSONX props is not an object, props.children or props._children&apos;, () =&gt; {
      const badPropTest1 = validateJSONX.bind(null, { component:&apos;div&apos;, props:{ children:{}, }, });
      expect(validateJSONX.bind(null, { component:&apos;div&apos;, props:&apos;bad&apos;, })).to.throw(TypeError);
      expect(validateJSONX.bind(null, { component:&apos;div&apos;, props:[], })).to.throw(TypeError);
      expect(badPropTest1).to.throw(TypeError);
      expect(validateJSONX.bind(null, { component: &apos;div&apos;, props: { _children: {}, }, })).to.throw(TypeError);
    });
    it(&apos;should throw a type error if JSONX children is not an array or JSONX docs or a string&apos;, () =&gt; {
      expect(validateJSONX.bind(null, { component:&apos;div&apos;, children:{}, })).to.throw(TypeError);
    });
    it(&apos;should validate child objects&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;div&apos;,
        children: [
          {
            props:&apos;this is missing a component&apos;,
          },
          {
            component: &apos;p&apos;,
            children: {},
            asyncprops:&apos;&apos;,
          },
        ],
      };
      const childrenErrors = validateJSONX(jsonxObj, true);
      expect(childrenErrors).to.be.an(&apos;array&apos;);
      expect(childrenErrors[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should validate dynamic props[asyncprops,resourceprops,thisprops,windowprops]&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        asyncprops: &apos;[]&apos;,
        resourceprops: &apos;[]&apos;,
        thisprops: {
          notStrings: [undefined, {}, ],
        },
        windowprops: {
          title:[&apos;navigator&apos;, &apos;userAgent&apos;, ],
        },
      };
      const dynamicerrors = validateJSONX(jsonxObj, true);
      expect(dynamicerrors).to.be.an(&apos;array&apos;);
      expect(dynamicerrors.length).to.eql(7);
      expect(dynamicerrors[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should validate eval props[__dangerouslyEvalProps,__dangerouslyBindEvalProps]&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        __dangerouslyEvalProps: &apos;badobj&apos;,
      };
      const jsonxObj2 = {
        component: &apos;myComponent&apos;,
        __dangerouslyEvalProps: {
          testJS:&apos;()=&gt;true&apos;,
          testJS1:&apos;3&apos;,
        },
      };
      const evalError = validateJSONX(jsonxObj, true);
      const evalError2 = validateJSONX(jsonxObj2);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(evalError2).to.be.true;
      // console.log({ evalError3 });
      // expect(dynamicerrors).to.be.an(&apos;array&apos;);
      // expect(dynamicerrors.length).to.eql(4);
      // expect(dynamicerrors[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should validate __dangerouslyEvalProps javascript&apos;, () =&gt; {
      const jsonxObj3 = {
        component: &apos;myComponent&apos;,
        __dangerouslyEvalProps: {
          testJS: &apos;(=&gt;true&apos;,
        },
      };
      const evalError3 = validateJSONX(jsonxObj3, true);
      expect(evalError3[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should validate __dangerouslyBindEvalProps as a function that can be bound javascript&apos;, () =&gt; {
      const jsonxObj4 = {
        component: &apos;myComponent&apos;,
        __dangerouslyBindEvalProps: {
          testJS1: &apos;{}&apos;,
        },
      };
      const evalError4 = validateJSONX(jsonxObj4, true);
      expect(evalError4[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should validate __dangerouslyInsertComponents are valid JSONX objects&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        __dangerouslyInsertComponents: {
          testComponent: {
            component_missing: &apos;nodiv&apos;,
            props: {},
          },
        },
      };
      const evalError = validateJSONX(jsonxObj, true);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
    });
    it(&apos;should validate __functionProps are valid function strings&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        __functionProps: {
          invalidFunc: {
            isString: {},
          },
        },
      };
      const jsonxObj2 = {
        component: &apos;myComponent&apos;,
        __functionProps: &apos;should be an obj&apos;,
      };
      const jsonxObjValid = {
        component: &apos;myComponent&apos;,
        __functionProps: {
          goodFunc:&apos;func:this.someFunc&apos;,
        },
      };
      const evalError = validateJSONX(jsonxObj, true);
      const evalError2 = validateJSONX(jsonxObj2, true);
      const validTest = validateJSONX(jsonxObjValid);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(evalError2[ 0 ]).to.be.an(&apos;error&apos;);
      expect(validTest).to.be.true;
    });
    it(&apos;should validate __windowComponentProps is an object&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        __windowComponentProps: &apos;should be an obj&apos;,
      };
      const jsonxObjValid = {
        component: &apos;myComponent&apos;,
        __windowComponentProps: {
          goodProps:&apos;ok&apos;,
        },
      };
      const evalError = validateJSONX(jsonxObj, true);
      const validTest = validateJSONX(jsonxObjValid);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(validTest).to.be.true;
    });
    it(&apos;should validate __windowComponents are valid function strings&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        __windowComponents: {
          invalidFunc: {
            isString: {},
          },
        },
      };
      const jsonxObj2 = {
        component: &apos;myComponent&apos;,
        __windowComponents: &apos;should be an obj&apos;,
      };
      const jsonxObjValid = {
        component: &apos;myComponent&apos;,
        __windowComponents: {
          goodFunc:&apos;func:this.someFunc&apos;,
        },
      };
      const evalError = validateJSONX(jsonxObj, true);
      const evalError2 = validateJSONX(jsonxObj2, true);
      const validTest = validateJSONX(jsonxObjValid);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(evalError2[ 0 ]).to.be.an(&apos;error&apos;);
      expect(validTest).to.be.true;
    });
    it(&apos;should validate comparisonorprops is boolean&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        comparisonorprops: &apos;should be an obj&apos;,
      };
      const jsonxObjValid = {
        component: &apos;myComponent&apos;,
        comparisonorprops: true,
      };
      const evalError = validateJSONX(jsonxObj, true);
      const validTest = validateJSONX(jsonxObjValid);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(validTest).to.be.true;
    });
    it(&apos;should validate comparisonprops is an array of comaprisons&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        comparisonprops: &apos;should be an array&apos;,
      };
      const jsonxObjValid = {
        component: &apos;myComponent&apos;,
        comparisonprops: [],
      };
      const jsonxObjin1 = {
        component: &apos;myComponent&apos;,
        comparisonprops: [{},],
      };
      const jsonxObjin2 = {
        component: &apos;myComponent&apos;,
        comparisonprops: [() =&gt; { },],
      };
      const evalError = validateJSONX(jsonxObj, true);
      const evalError1 = validateJSONX(jsonxObjin1, true);
      const evalError2 = validateJSONX(jsonxObjin2, true);
      const validTest = validateJSONX(jsonxObjValid);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(evalError1[ 0 ]).to.be.an(&apos;error&apos;);
      expect(evalError2[ 0 ]).to.be.an(&apos;error&apos;);
      expect(validTest).to.be.true;
    });
    it(&apos;should validate passprops is boolean&apos;, () =&gt; {
      const jsonxObj = {
        component: &apos;myComponent&apos;,
        passprops: &apos;should be an obj&apos;,
      };
      const jsonxObjValid = {
        component: &apos;myComponent&apos;,
        passprops: true,
      };
      const evalError = validateJSONX(jsonxObj, true);
      const validTest = validateJSONX(jsonxObjValid);
      expect(evalError[ 0 ]).to.be.an(&apos;error&apos;);
      expect(validTest).to.be.true;
    });
  });
  describe(&apos;validSimpleJSONXSyntax&apos;, () =&gt; {
    const validSimpleJSONXSyntax = _jsonxUtils.validSimpleJSONXSyntax;
    it(&apos;should invalidate shorthard simple syntax&apos;, () =&gt; {
      const invalidShorthand = {
        component:&apos;p&apos;,
      };
      const invalidShorthand2 = {
        component: &apos;p&apos;,
        props: {
          style: {
            background:&apos;red&apos;,
          },
        },
      };
      const invalidShorthand3 = {
        component: &apos;p&apos;,
        props:&apos;hey&apos;,
      };
      const invalidShorthand4 = {
        component: &apos;p&apos;,
        props: {
          style: {
            background:&apos;red&apos;,
          },
        },
        children:&apos;hey&apos;,
      };
      const invalidShorthand5 = {
        children:&apos;p&apos;,
      };
      const invalidShorthand6 = {
        anything:&apos;p&apos;,
      };
      const invalidShorthand7 = {
        anything: {
          component: &apos;p&apos;,
        },
      };
      expect(validSimpleJSONXSyntax(invalidShorthand)).to.be.false;
      expect(validSimpleJSONXSyntax(invalidShorthand2)).to.be.false;
      expect(validSimpleJSONXSyntax(invalidShorthand3)).to.be.false;
      expect(validSimpleJSONXSyntax(invalidShorthand4)).to.be.false;
      expect(validSimpleJSONXSyntax(invalidShorthand5)).to.be.false;
      expect(validSimpleJSONXSyntax(invalidShorthand6)).to.be.false;
    });
    it(&apos;should validate shorthard simple syntax&apos;, () =&gt; {
      const validShorthand = {
        p:{},
      };
      const validShorthand2 = {
        p: {
          props: {
            style: {
              background:&apos;red&apos;,
            },
          },
        },
      };
      const validShorthand3 = {
        p: {
          props:&apos;hey&apos;,
        },
      };
      const validShorthand4 = {
        p: {
          props: {
            style: {
              background:&apos;red&apos;,
            },
          },
          children:&apos;hey&apos;,
        },
      };
      const validShorthand5 = {
        children: {
          children:&apos;p&apos;,
        },
      };
      expect(validSimpleJSONXSyntax(validShorthand)).to.be.true;
      expect(validSimpleJSONXSyntax(validShorthand2)).to.be.true;
      expect(validSimpleJSONXSyntax(validShorthand3)).to.be.true;
      expect(validSimpleJSONXSyntax(validShorthand4)).to.be.true;
      expect(validSimpleJSONXSyntax(validShorthand5)).to.be.true;
    });
  });
  describe(&apos;simpleJSONXSyntax&apos;, () =&gt; {
    const simpleJSONXSyntax = _jsonxUtils.simpleJSONXSyntax;
    it(&apos;should return valid JSONX from simple JSONX syntax&apos;, () =&gt; {
      const validShorthand = {
        p:{},
      };
      const validShorthand2 = {
        p: {
          props: {
            style: {
              background:&apos;red&apos;,
            },
          },
        },
      };
      const validShorthand3 = {
        p: {
          props:&apos;hey&apos;,
        },
      };
      const validShorthand4 = {
        div: {
          props: {
            style: {
              background:&apos;red&apos;,
            },
          },
          children: [
            {
              p: { children: &apos;hey&apos;, },
            },
          ],
        },
      };
      const validShorthand5 = {
        children: {
          children:&apos;p&apos;,
        },
      };
      const transformedSimpleSyntaxValid = _jsonxUtils.validateJSONX(simpleJSONXSyntax(validShorthand), true);
      const transformedSimpleSyntaxValid2 = _jsonxUtils.validateJSONX(simpleJSONXSyntax(validShorthand2), true);
      const transformedSimpleSyntaxValid3 = _jsonxUtils.validateJSONX(simpleJSONXSyntax(validShorthand3), true);
      const transformedSimpleSyntaxValid4 = _jsonxUtils.validateJSONX(simpleJSONXSyntax(validShorthand4), true);
      const transformedSimpleSyntaxValid5 = _jsonxUtils.validateJSONX(simpleJSONXSyntax(validShorthand5), true);
     
      expect((transformedSimpleSyntaxValid)).to.be.true;
      expect((transformedSimpleSyntaxValid2)).to.be.true;
      expect((transformedSimpleSyntaxValid3[0])).to.be.an(&apos;error&apos;);
      expect((transformedSimpleSyntaxValid4[0])).to.be.true;
      expect((transformedSimpleSyntaxValid5)).to.be.true;
    });
    it(&apos;should produce equivalent JSONX&apos;, () =&gt; {
      const sampleJSONX = {
        component: &apos;div&apos;,
        props: {
          id: &apos;generatedJSONX&apos;,
          className: &apos;jsonx&apos;,
        },
        asyncprops: {
          test:[&apos;ok&apos;, &apos;cool&apos;,],
        },
        children: [
          {
            component: &apos;p&apos;,
            props: {
              style: {
                color: &apos;red&apos;,
                fontWeight: &apos;bold&apos;,
              },
            },
            children: &apos;hello world&apos;,
          },
        ],
      };

      const simpleJSONX = {
        div: {
          props: {
            id: &apos;generatedJSONX&apos;,
            className: &apos;jsonx&apos;,
          },
          asyncprops: {
            test:[&apos;ok&apos;, &apos;cool&apos;,],
          },
          children: [
            {
              p: {
                props: {
                  style: {
                    color: &apos;red&apos;,
                    fontWeight: &apos;bold&apos;,
                  },
                },
                children: &apos;hello world&apos;,
              },
            },
          ],
        },
      };
      const transformedJSONXSTRING = simpleJSONXSyntax(simpleJSONX).toString();
      const JSONXSTRING = sampleJSONX.toString();

      expect(transformedJSONXSTRING).to.eql(JSONXSTRING);
    });
  });
  describe(&apos;getSimplifiedJSONX&apos;, () =&gt; {
    const getSimplifiedJSONX = _jsonxUtils.getSimplifiedJSONX;
    const simpleJSONX = {
      div: {
        props: {
          id: &apos;generatedJSONX&apos;,
          className: &apos;jsonx&apos;,
        },
        asyncprops: {
          test:[&apos;ok&apos;, &apos;cool&apos;,],
        },
        children: [
          {
            p: {
              props: {
                style: {
                  color: &apos;red&apos;,
                  fontWeight: &apos;bold&apos;,
                },
              },
              children: &apos;hello world&apos;,
            },
          },
        ],
      },
    };
    const sampleJSONX = {
      component: &apos;div&apos;,
      props: {
        id: &apos;generatedJSONX&apos;,
        className: &apos;jsonx&apos;,
      },
      asyncprops: {
        test:[&apos;ok&apos;, &apos;cool&apos;,],
      },
      children: [
        {
          component: &apos;p&apos;,
          props: {
            style: {
              color: &apos;red&apos;,
              fontWeight: &apos;bold&apos;,
            },
          },
          children: &apos;hello world&apos;,
        },
      ],
    };
    it(&apos;should produce equivalent SimpleJSONX&apos;, () =&gt; {
      const transformedJSONXSTRING = getSimplifiedJSONX(sampleJSONX).toString();
      const JSONXSTRING = simpleJSONX.toString();
      expect(transformedJSONXSTRING).to.eql(JSONXSTRING);
    });
    it(&apos;should return SimpleJSONX if already simple&apos;, () =&gt; {
      expect(simpleJSONX).to.eql(getSimplifiedJSONX(simpleJSONX));
    });
  });
});</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>


</body></html>